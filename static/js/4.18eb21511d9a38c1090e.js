webpackJsonp([4],{"70LA":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("TVG1"),o=a("L/Zn"),r=(a("2sCs"),{name:"province",components:{mainTable:o.a},data:function(){var t=this;return{url:{add:"province/add.do",edit:"province/edit.do",delete:"province/delete.do"},currDialog:"edit",dialogShow:!1,cityDialogShow:!1,areaDialogShow:!1,dialogSubmitLoading:!1,editInd:0,formDialog:{id:"",provinceName:"",cityName:"",areaName:""},choice:"",chinaJson:{},chinaData:[],provinceData:[],cityData:[],areaData:[],provinceColumns:[{title:"省code",key:"id",width:200,fixed:"left"},{title:"省份",key:"provinceName",render:function(e,a){var i=t;return e("Button",{props:{type:"text"},on:{click:function(){i.showCity(a.row.id)}}},a.row.provinceName)}},{title:"操作",key:"action",width:200,align:"center",fixed:"right",render:function(e,a){var i=t;return e("div",[function(t,e,a){return e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){}}},"校验")}(0,e),function(t,e,a){return e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.editRow(a.row,"province")}}},t.label.edit)}(i,e,a),function(t,e,a){return e("Button",{props:{type:"error",size:"small"},on:{click:function(){}}},t.label.delete)}(i,e)])}}],cityColumns:[{title:"市code",key:"id",width:200,fixed:"left"},{title:"市",key:"cityName",render:function(e,a){var i=t;return e("Button",{props:{type:"text"},on:{click:function(){i.showArea(a.row.id)}}},a.row.cityName)}},{title:"操作",key:"action",width:200,align:"center",fixed:"right",render:function(e,a){var i=t;return e("div",[function(t,e,a){return e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){}}},"校验")}(0,e),function(t,e,a){return e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.editRow(a.row,"city")}}},t.label.edit)}(i,e,a),function(t,e,a){return e("Button",{props:{type:"error",size:"small"},on:{click:function(){}}},t.label.delete)}(i,e)])}}],areaColumns:[{title:"区code",key:"id",width:200,fixed:"left"},{title:"区",key:"areaName"},{title:"操作",key:"action",width:200,align:"center",fixed:"right",render:function(e,a){var i=t;return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){}}},"校验"),e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){i.editRow(a.row,"area")}}},i.label.edit),e("Button",{props:{type:"error",size:"small"},on:{click:function(){}}},i.label.delete)])}}],rules:{provinceName:[{required:!0,message:"省份名称不能为空",trigger:"blur"}],cityName:[{required:!0,message:"省份名称不能为空",trigger:"blur"}],areaName:[{required:!0,message:"省份名称不能为空",trigger:"blur"}]}}},computed:{label:function(){return this.$store.state.label}},methods:{closeModal:function(t){this[t]=!1},editRow:function(t,e){var a=this,i=a.util.extend(t);for(var o in a.choice=e,a.editInd=i._index,a.currDialog="edit",a.formDialog)void 0!==i[o]&&(a.formDialog[o]=i[o]);a.dialogShow=!0},showCity:function(t){this.choice="city",this.cityData=this.getCityData(t),this.cityDialogShow=!0},showArea:function(t){this.choice="area",this.areaData=this.getAreaData(t),this.areaDialogShow=!0},getCityData:function(t){var e=i.a.extend(this.chinaJson[t]),a=[];for(var o in e)a.push({id:o,cityName:e[o]});return a},getAreaData:function(t){var e=i.a.extend(this.chinaJson[t]),a=[];for(var o in e)a.push({id:o,areaName:e[o]});return a},resetDialogForm:function(t){this.formDialog.provinceName="",this.formDialog.cityName="",this.formDialog.areaName=""},submitDialogForm:function(t){this.util.submitDialogForm(this,t)},addRow:function(t){this.choice=t,this.$store.commit("addRow",this)},checkData:function(){},initPostDialog:function(t){for(var e in t)t[e]||delete t[e]}},mounted:function(){var t=this;t.$http.get("/static/data/address.json").then(function(e){t.chinaJson=i.a.extend(e.data),t.chinaData=i.a.getChinaDataByJson(i.a.extend(e.data));var a=[];i.a.extend(t.chinaData).forEach(function(t){a.push({id:t.value,provinceName:t.label})}),t.provinceData=a})},watch:{dialogShow:function(t,e){t||(this.currDialog="add",this.editInd=0)}}}),n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"province"},[a("div",{staticStyle:{padding:"10px 0"}},[a("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.addRow("province")}}},[t._v(t._s(t.label.add))]),t._v(" "),a("Button",{attrs:{type:"primary",size:"small"},on:{click:t.checkData}},[t._v("校验所有数据")])],1),t._v(" "),a("main-table",{attrs:{columns:t.provinceColumns,data:t.provinceData}}),t._v(" "),a("Modal",{attrs:{title:"市","mask-closable":!1,width:"750"},model:{value:t.cityDialogShow,callback:function(e){t.cityDialogShow=e},expression:"cityDialogShow"}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.addRow("city")}}},[t._v(t._s(t.label.add))])],1),t._v(" "),a("main-table",{attrs:{columns:t.cityColumns,data:t.cityData,size:"small"}}),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.closeModal("cityDialogShow")}}},[t._v(t._s(t.label.sure))])],1)],1),t._v(" "),a("Modal",{attrs:{title:"区","mask-closable":!1,width:"750"},model:{value:t.areaDialogShow,callback:function(e){t.areaDialogShow=e},expression:"areaDialogShow"}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.addRow("area")}}},[t._v(t._s(t.label.add))])],1),t._v(" "),a("main-table",{attrs:{columns:t.areaColumns,data:t.areaData,size:"small"}}),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.closeModal("areaDialogShow")}}},[t._v(t._s(t.label.sure))])],1)],1),t._v(" "),a("Modal",{attrs:{title:t.label[t.currDialog],"mask-closable":!1,width:"750"},on:{"on-cancel":function(e){t.resetDialogForm("formDialog")}},model:{value:t.dialogShow,callback:function(e){t.dialogShow=e},expression:"dialogShow"}},[a("Form",{ref:"formDialog",attrs:{model:t.formDialog,rules:t.rules,"label-width":80}},[a("Row",[a("Col",{attrs:{span:"12"}},["province"==t.choice?a("FormItem",{key:t.choice,attrs:{label:"省份名称",prop:"provinceName"}},[a("Input",{attrs:{placeholder:"请输入省份名称"},model:{value:t.formDialog.provinceName,callback:function(e){t.$set(t.formDialog,"provinceName",e)},expression:"formDialog.provinceName"}})],1):t._e(),t._v(" "),"city"==t.choice?a("FormItem",{key:t.choice,attrs:{label:"市名称",prop:"cityName"}},[a("Input",{attrs:{placeholder:"请输入市名称"},model:{value:t.formDialog.cityName,callback:function(e){t.$set(t.formDialog,"cityName",e)},expression:"formDialog.cityName"}})],1):t._e(),t._v(" "),"area"==t.choice?a("FormItem",{key:t.choice,attrs:{label:"区名称",prop:"areaName"}},[a("Input",{attrs:{placeholder:"请输入区名称"},model:{value:t.formDialog.areaName,callback:function(e){t.$set(t.formDialog,"areaName",e)},expression:"formDialog.areaName"}})],1):t._e()],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(e){t.resetDialogForm("formDialog")}}},[t._v(t._s(t.label.clear))]),t._v(" "),a("Button",{attrs:{type:"primary",loading:t.dialogSubmitLoading},on:{click:function(e){t.submitDialogForm("formDialog")}}},[t._v(t._s(t.label.submit))])],1)],1)],1)},staticRenderFns:[]};var l=a("Z0/y")(r,n,!1,function(t){a("OLn7")},"data-v-a2c9a406",null);e.default=l.exports},OLn7:function(t,e){}});