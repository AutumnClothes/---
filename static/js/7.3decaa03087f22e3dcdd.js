webpackJsonp([7],{bFWd:function(e,a){},e7WC:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("L/Zn"),o=t("prc4"),l={name:"user",components:{mainTable:r.a,paging:o.a},data:function(){var e=this;return{url:{add:"user/add.do",edit:"user/edit.do",delete:"user/delete.do"},pager:{data:[{id:"123123213",loginName:"xiayy",name:"夏洋洋",password:"reterterwt",sex:"1",age:22,roleIds:[],createTime:"2017-12-20 10:24:52",phone:"123456",status:"1",areaId:""},{id:"123123123",loginName:"chenxiang",name:"陈祥",password:"fhghmvjk",sex:"2",age:22,roleIds:[],createTime:"2017-12-20 10:24:22",phone:"123456",status:"1",areaId:""},{id:"234234423",loginName:"liubb",name:"刘彬彬",password:"hjktytry",sex:"3",age:22,roleIds:[],createTime:"2017-12-20 10:24:01",phone:"123456",status:"1",areaId:""}],url:"user/dataGrid.do",sort:"createTime",order:"desc"},currDialog:"add",dialogShow:!1,dialogSubmitLoading:!1,derail_address_arr:[],derail_address_obj_s:[],roleIds:[],userStatus:[{label:"正常",value:"1"},{label:"停用",value:"2"}],sex:[{label:"男",value:"1"},{label:"女",value:"2"},{label:"保密",value:"3"}],formSearch:{name:"",createdateStart:"",createdateEnd:"",areaId:""},formDialog:{id:"",loginName:"",name:"",password:"",sex:"",age:22,roleIds:[],phone:"",status:"1",areaId:""},columns:[{type:"selection",width:80,fixed:"left",align:"center"},{title:"账号",key:"loginName",sortable:!0},{title:"姓名",key:"name",sortable:!0},{title:"操作时间",key:"createTime",sortable:!0},{title:"电话",key:"phone",sortable:!0},{title:"角色",key:"rolesList",sortable:!0},{title:"状态",key:"status",width:100,sortable:!0,render:function(a,t){return a("span",e.$store.state.map.status[t.row.status])}},{title:"操作",key:"action",width:140,align:"center",fixed:"right",render:function(a,t){var r=e;return a("div",[a("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){r.$store.commit("editRow",{vm:r,data:t.row,initDialog:r.initDialog(t.row)})}}},"编辑"),a("Button",{props:{type:"error",size:"small"},on:{click:function(){r.$Modal.confirm({title:"确认",content:"确认删除这条数据吗？",onOk:function(){r.$store.dispatch("delRow",t.row.id)}})}}},"删除")])}}],rules:{loginName:[{required:!0,message:"登录名称不能为空",trigger:"blur"},{type:"string",min:4,max:64,message:"登录名须在4-64个字符之间",trigger:"blur"}],name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}],status:[{required:!0,message:"用户状态不能为空",trigger:"change"}],sex:[{required:!0,message:"用户性别不能为空",trigger:"change"}],phone:[{required:!0,message:"联系方式不能为空",trigger:"change"}]}}},computed:{label:function(){return this.$store.state.label}},methods:{resetSearch:function(e){this.derail_address_obj_s=[],this.formSearch.name="",this.$refs[e].resetFields(),this.submitSearch(e)},submitSearch:function(e){this.$store.dispatch("submitSearch",{vm:this,name:e})},addRow:function(){this.$store.commit("addRow",this)},resetDialogForm:function(e){this.$refs[e].resetFields()},submitDialogForm:function(e){this.util.submitDialogForm(this,e)},initDialog:function(){},changePager:function(e){this.util.changePager(this,e)},paging:function(){this.util.paging(this)},initData:function(){this.derail_address_arr=this.util.extend(JSON.parse(sessionStorage.chinaData))}},created:function(){var e=this;e.initData(),e.$store.commit("initPager",e),e.paging(e)},mounted:function(){},watch:{dialogShow:function(e){e||(this.currDialog="add")},derail_address_obj_s:function(e){e.length?this.formSearch.areaId=e[2]:this.formSearch.areaId=""}}},s={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"user"},[t("Form",{ref:"formSearch",attrs:{model:e.formSearch,inline:"","label-width":60}},[t("FormItem",{attrs:{label:"用户"}},[t("Input",{attrs:{placeholder:"姓名/账号/手机号",size:"small"},model:{value:e.formSearch.name,callback:function(a){e.$set(e.formSearch,"name",a)},expression:"formSearch.name"}})],1),e._v(" "),t("FormItem",{attrs:{label:"管理区域"}},[t("Cascader",{staticStyle:{"margin-top":"5px"},attrs:{data:e.derail_address_arr,filterable:"",size:"small"},model:{value:e.derail_address_obj_s,callback:function(a){e.derail_address_obj_s=a},expression:"derail_address_obj_s"}})],1),e._v(" "),t("FormItem",{attrs:{label:"创建时间"}},[t("FormItem",{attrs:{prop:"createdateStart"}},[t("DatePicker",{staticStyle:{width:"160px"},attrs:{type:"datetime",placeholder:"点击选择时间",size:"small",clearable:!1},model:{value:e.formSearch.createdateStart,callback:function(a){e.$set(e.formSearch,"createdateStart",a)},expression:"formSearch.createdateStart"}})],1),e._v(" "),t("FormItem",[e._v("至")]),e._v(" "),t("FormItem",{attrs:{prop:"createdateEnd"}},[t("DatePicker",{staticStyle:{width:"160px"},attrs:{type:"datetime",placeholder:"点击选择时间",size:"small",clearable:!1},model:{value:e.formSearch.createdateEnd,callback:function(a){e.$set(e.formSearch,"createdateEnd",a)},expression:"formSearch.createdateEnd"}})],1)],1),e._v(" "),t("Button",{staticStyle:{margin:"5px 8px 24px 0"},attrs:{type:"ghost",size:"small"},on:{click:function(a){e.resetSearch("formSearch")}}},[e._v(e._s(e.label.clear))]),e._v(" "),t("Button",{staticStyle:{margin:"5px 8px 24px 0"},attrs:{type:"primary",size:"small"},on:{click:function(a){e.submitSearch("formSearch")}}},[e._v(e._s(e.label.search))]),e._v(" "),t("Button",{staticStyle:{margin:"5px 8px 24px 0"},attrs:{type:"primary",size:"small"},on:{click:e.addRow}},[e._v(e._s(e.label.add))])],1),e._v(" "),t("mainTable",{attrs:{columns:e.columns,data:e.pager.data}}),e._v(" "),t("paging",{attrs:{total:e.pager.total,currPage:e.pager.currPage},on:{changePager:e.changePager,paging:e.paging}}),e._v(" "),t("Modal",{attrs:{title:e.label[e.currDialog],"mask-closable":!1,width:"750"},on:{"on-cancel":function(a){e.resetDialogForm("formDialog")}},model:{value:e.dialogShow,callback:function(a){e.dialogShow=a},expression:"dialogShow"}},[t("Form",{ref:"formDialog",attrs:{model:e.formDialog,rules:e.rules,"label-width":80}},[t("Row",[t("Col",{attrs:{span:"12"}},[t("FormItem",{attrs:{label:"登录名",prop:"loginName"}},[t("Input",{attrs:{placeholder:"请输入登录名称"},model:{value:e.formDialog.loginName,callback:function(a){e.$set(e.formDialog,"loginName",a)},expression:"formDialog.loginName"}})],1)],1),e._v(" "),t("Col",{attrs:{span:"12"}},[t("FormItem",{attrs:{label:"姓名",prop:"name"}},[t("Input",{attrs:{placeholder:"请输入姓名"},model:{value:e.formDialog.name,callback:function(a){e.$set(e.formDialog,"name",a)},expression:"formDialog.name"}})],1)],1)],1),e._v(" "),t("Row",[t("Col",{attrs:{span:"12"}},[t("FormItem",{attrs:{label:"密码",prop:"password"}},[t("Input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.formDialog.password,callback:function(a){e.$set(e.formDialog,"password",a)},expression:"formDialog.password"}})],1)],1),e._v(" "),t("Col",{attrs:{span:"12"}},[t("FormItem",{attrs:{label:"性别",prop:"sex"}},[t("Select",{model:{value:e.formDialog.sex,callback:function(a){e.$set(e.formDialog,"sex",a)},expression:"formDialog.sex"}},e._l(e.sex,function(a){return t("Option",{key:a.value,attrs:{value:a.value}},[e._v(e._s(a.label))])}))],1)],1)],1),e._v(" "),t("Row",[t("Col",{attrs:{span:"12"}},[t("FormItem",{attrs:{label:"用户状态",prop:"status"}},[t("Select",{model:{value:e.formDialog.status,callback:function(a){e.$set(e.formDialog,"status",a)},expression:"formDialog.status"}},e._l(e.userStatus,function(a){return t("Option",{key:a.value,attrs:{value:a.value}},[e._v(e._s(a.label))])}))],1)],1),e._v(" "),t("Col",{attrs:{span:"12"}},[t("FormItem",{attrs:{label:"电话",prop:"phone"}},[t("Input",{model:{value:e.formDialog.phone,callback:function(a){e.$set(e.formDialog,"phone",a)},expression:"formDialog.phone"}})],1)],1)],1),e._v(" "),t("Row",[t("Col",{attrs:{span:"12"}},[t("FormItem",{attrs:{label:"角色",prop:"roleIds"}},[t("Select",{attrs:{multiple:""},model:{value:e.formDialog.roleIds,callback:function(a){e.$set(e.formDialog,"roleIds",a)},expression:"formDialog.roleIds"}},e._l(e.roleIds,function(a){return t("Option",{key:a.value,attrs:{value:a.value}},[e._v(e._s(a.label))])}))],1)],1)],1)],1),e._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{on:{click:function(a){e.resetDialogForm("formDialog")}}},[e._v(e._s(e.label.clear))]),e._v(" "),t("Button",{attrs:{type:"primary",loading:e.dialogSubmitLoading},on:{click:function(a){e.submitDialogForm("formDialog")}}},[e._v(e._s(e.label.submit))])],1)],1)],1)},staticRenderFns:[]};var i=t("Z0/y")(l,s,!1,function(e){t("bFWd")},"data-v-74d18cf0",null);a.default=i.exports}});